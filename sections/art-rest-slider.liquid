{% schema %}
    {
      "name": "Coming Soon Slider",
      "settings": [
        {
          "type": "text",
          "id": "heading",
          "label": "Heading",
          "default": "The Art of Rest, Layered to Perfection"
        },
        {
          "type": "textarea",
          "id": "description",
          "label": "Description",
          "default": "Cloud-soft pillows and breathable quiltsâ€”crafted for comfort, designed to elevate every layer of your bed."
        },
        {
          "type": "color",
          "id": "progress_bar_color",
          "label": "Progress Bar Base Color",
          "default": "#000000"
        },
        {
          "type": "color",
          "id": "progress_indicator_color",
          "label": "Progress Indicator Color",
          "default": "#C49B66"
        }
      ],
      "blocks": [
        {
          "type": "slide",
          "name": "Slide",
          "settings": [
            {
              "type": "image_picker",
              "id": "image",
              "label": "Slide Image"
            },
            {
              "type": "text",
              "id": "caption",
              "label": "Caption",
              "default": "Shop Pillows"
            }
          ]
        }
      ],
      "presets": [
        {
          "name": "Coming Soon Slider",
          "category": "Custom"
        }
      ]
    }
    {% endschema %}
    
    <div class="coming-soon-container">
      <div class="coming-soon-header">
        <h3>{{ section.settings.heading }}</h3>
        <p>{{ section.settings.description }}</p>
      </div>
    
      <div class="slider-wrapper">
        <div class="swiper-container">
          <div class="swiper-wrapper">
            {% for block in section.blocks %}
              <div class="swiper-slide">
                {% if block.settings.image != blank %}
                  <img src="{{ block.settings.image | img_url: 'master' }}" alt="">
                {% endif %}
                <div class="slide-caption">{{ block.settings.caption }} ></div>
              </div>
            {% endfor %}
          </div>
        </div>
    
        <div class="slider-controls">
          <div class="swiper-button-prev"></div>
          <div class="swiper-button-next"></div>
        </div>
    
        <div class="progress-bar">
          <div class="progress-indicator"></div>
        </div>
      </div>
    </div>
    
    <style>
    .coming-soon-container {
      margin: 0 120px;
    }
    
    .coming-soon-header {
      max-width: 550px;
      margin: 0 auto 20px;
      text-align: center;
    }
    
    .coming-soon-header h3 {
      font-weight: normal;
    }
    
    .slider-wrapper {
      position: relative;
    }
    
    .swiper-container {
      padding-bottom: 30px; /* space for progress bar */
    }
    
    .swiper-slide {
      width: 550px;
      flex-shrink: 0;
    }
    
    .swiper-slide img {
      width: 100%;
      border-radius: 4px;
    }
    
    .slide-caption {
      text-align: left;
      margin-top: 8px;
    }
    
    .slider-controls {
      position: absolute;
      right: 0;
      bottom: 3px; /* sits on top of progress bar */
      display: flex;
      gap: 10px;
    }
    
    .slider-controls .swiper-button-prev,
    .slider-controls .swiper-button-next {
      width: 24px;
      height: 24px;
      background: none;
      border: none;
      cursor: pointer;
    }
    
    .progress-bar {
      border-bottom: 3px solid {{ section.settings.progress_bar_color }};
      position: relative;
      margin-top: 10px;
    }
    
    .progress-indicator {
      position: absolute;
      bottom: -3px;
      left: 0;
      height: 3px;
      background-color: {{ section.settings.progress_indicator_color }};
      width: 0;
    }
    </style>
    
    <script>
      var swiper{{ section.id }} = new Swiper('.swiper-container', {
        slidesPerView: 'auto',
        spaceBetween: 20,
        navigation: {
          nextEl: '.swiper-button-next',
          prevEl: '.swiper-button-prev',
        },
        on: {
          progress: function (progress) {
            document.querySelector('.progress-indicator').style.width = (progress * 100) + '%';
          }
        }
      });
    </script>
    